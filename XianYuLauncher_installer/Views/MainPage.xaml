<Page
    x:Class="XianYuLauncher_installer.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="Transparent"
    mc:Ignorable="d">

    <Grid x:Name="ContentArea" Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="60" />
            <RowDefinition Height="*" />
            <RowDefinition Height="80" />
        </Grid.RowDefinitions>

        <!-- 步骤标题 -->
        <StackPanel Grid.Row="0" VerticalAlignment="Center">
            <TextBlock x:Name="StepTitleTextBlock" FontSize="24" FontWeight="Bold" Margin="0,0,0,10" />
            <ProgressBar x:Name="StepProgressBar" Maximum="3" IsIndeterminate="False" Height="4" Background="LightGray" Foreground="{ThemeResource SystemAccentColor}" />
        </StackPanel>

        <!-- 内容区域 -->
        <Grid Grid.Row="1">
            <!-- 欢迎页面 -->
            <StackPanel x:Name="WelcomePanel" VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="20">
                <Image x:Name="LogoImage" Width="100" Height="100" Stretch="Uniform" />
                <TextBlock Text="欢迎使用 XianYuLauncher 安装程序" FontSize="18" FontWeight="SemiBold" TextAlignment="Center" />
                <TextBlock Text="XianYuLauncher 是一款UI完美的 Minecraft 启动器。" TextWrapping="WrapWholeWords" TextAlignment="Center" />
                <TextBlock Text="点击 '下一步' 继续安装。" TextAlignment="Center" />
            </StackPanel>

            <!-- 安装进度页面 -->
            <StackPanel x:Name="InstallingPanel" VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="20">
                <ProgressBar x:Name="InstallProgressBar" Maximum="100" IsIndeterminate="False" Height="15" Width="400" Foreground="{ThemeResource SystemAccentColor}" />
                <TextBlock x:Name="ProgressMessageTextBlock" TextAlignment="Center" />
                <TextBlock Text="正在安装中，请稍候..." TextAlignment="Center" FontSize="12" Foreground="Gray" />
            </StackPanel>

            <!-- 安装完成页面 -->
            <StackPanel x:Name="CompletePanel" VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="20">
                <TextBlock Text="安装完成！" FontSize="24" FontWeight="Bold" TextAlignment="Center" />
                <TextBlock Text="XianYuLauncher 已成功安装到您的计算机上。" TextAlignment="Center" />
                <CheckBox Content="运行 XianYuLauncher" IsChecked="True" x:Name="RunLauncherCheckBox" />
            </StackPanel>
        </Grid>

        <!-- 底部按钮 -->
        <Grid Grid.Row="2" VerticalAlignment="Bottom">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <!-- 左侧 GitHub 图标 -->
            <Button x:Name="GitHubButton" Click="GitHubButton_Click" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,10,0" Width="40" Height="40" Padding="0" ToolTipService.ToolTip="访问GitHub仓库">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image x:Name="GitHubIconImage" Width="24" Height="24" Stretch="Uniform" />
                </StackPanel>
            </Button>
            
            <!-- 右侧按钮组 -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Spacing="10">
                <Button x:Name="PreviousButton" Content="上一步" Click="PreviousButton_Click" />
                <Button x:Name="NextButton" Content="下一步" Click="NextButton_Click" />
                <Button x:Name="CompleteButton" Content="完成" Click="CompleteButton_Click" />
                <Button x:Name="ExitButton" Content="退出" Click="ExitButton_Click" />
            </StackPanel>
        </Grid>
    </Grid>
</Page>
